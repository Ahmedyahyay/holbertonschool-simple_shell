#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>

/**
 * main - Entry point for the simple shell program
 *
 * Description: This shell will display a prompt and execute commands.
 * It uses execve to run commands and handles EOF (Ctrl+D).
 * The shell will keep running until the user presses Ctrl+D.
 *
 * Return: Always 0 (Success)
 */
int main(void)
{
	char *line = NULL;  /* Pointer to store the input line */
	size_t len = 0;     /* Length of the input buffer */
	ssize_t nread;      /* Number of bytes read */
	char *args[2];      /* Arguments for the command */

	while (1)
	{
		/* Display prompt */
		printf("#cisfun$ ");

		/* Read input */
		nread = getline(&line, &len, stdin);

		/* Handle EOF (Ctrl+D) */
		if (nread == -1)
		{
			printf("\n");
			break;
		}

		/* Remove newline character at the end of input, if present */
		if (line[nread - 1] == '\n')
			line[nread - 1] = '\0';

		/* Prepare arguments for execve */
		args[0] = line;
		args[1] = NULL;

		/* Try executing the command using execve */
		if (execve(args[0], args, environ) == -1)
		{
			/* Print error message if the command is not found */
			perror("./shell");
		}
	}

	free(line);  /* Free the memory allocated for the input line */
	return (0);
}

